<mat-dialog-content>
  <form (ngSubmit)="onSubmit(configForm)" #configForm="ngForm">

    <!-- Mostrar Nombre de Usuario Actual y Foto de Perfil -->
    <div style="display: flex; align-items: center; padding-left: 15px;">
      <img [src]="profileImageUrl" alt="Foto de perfil" class="profile-image">
      <span><h4>Usuario actual</h4> {{ username }}</span>
    </div>


    <h4 mat-dialog-title class="dialog-title">Cambiar usuario y contraseña</h4>
    <mat-form-field>
      <input matInput placeholder="Nuevo nombre de usuario" [(ngModel)]="newUsername" name="newUsername" maxlength="60"
        required>
    </mat-form-field>

    <!-- Cambiar Contraseña -->
    <mat-form-field>
      <input matInput type="{{ showOldPassword ? 'text' : 'password' }}" placeholder="Contraseña actual"
        [(ngModel)]="oldPassword" name="oldPassword" maxlength="18" required>
      <i class="password-toggle-icon" (click)="toggleOldPasswordVisibility()">
        <span *ngIf="!showOldPassword" class="fa fa-eye"></span>
        <span *ngIf="showOldPassword" class="fa fa-eye-slash"></span>
      </i>
    </mat-form-field>
    <mat-form-field>
      <input matInput type="{{ showNewPassword ? 'text' : 'password' }}" placeholder="Nueva contraseña"
        [(ngModel)]="newPassword" name="newPassword" maxlength="18" required>
      <i class="password-toggle-icon" (click)="toggleNewPasswordVisibility()">
        <span *ngIf="!showNewPassword" class="fa fa-eye"></span>
        <span *ngIf="showNewPassword" class="fa fa-eye-slash"></span>
      </i>
    </mat-form-field>
    <mat-form-field>
      <input matInput type="{{ showConfirmPassword ? 'text' : 'password' }}" placeholder="Confirmar nueva contraseña"
        [(ngModel)]="confirmPassword" name="confirmPassword" maxlength="18" required>
      <i class="password-toggle-icon" (click)="toggleConfirmPasswordVisibility()">
        <span *ngIf="!showConfirmPassword" class="fa fa-eye"></span>
        <span *ngIf="showConfirmPassword" class="fa fa-eye-slash"></span>
      </i>
    </mat-form-field>
  </form>
</mat-dialog-content>
<mat-progress-bar mode="indeterminate" *ngIf="showProgressBar"></mat-progress-bar>
<mat-dialog-actions>
  <button mat-button (click)="onCancel()">Cancelar</button>
  <button mat-raised-button color="primary" (click)="onSubmit(configForm)">Guardar Cambios</button>
</mat-dialog-actions>